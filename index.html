<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>HubCoin Miner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay"><div class="spinner"></div></div>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="profile-info">
                <img id="user-profile-pic" src="https://i.pravatar.cc/150" alt="User" class="profile-pic">
                <div>
                    <span id="user-name" class="username">Loading...</span>
                    <span class="pro-badge">PRO</span>
                </div>
            </div>
            <div class="notification-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg></div>
        </header>

        <!-- Page Wrapper -->
        <main class="page-wrapper">
            <!-- Home Page -->
            <div id="page-home" class="page page-active">
                <section class="balance-card"><span class="balance-title">TOTAL BALANCE</span><h1 id="total-balance" class="balance-amount">à§³ 0.00</h1></section>
                <div class="withdrawal-ticker"><div class="ticker-content"><span>ðŸŽ‰ S**ma just withdrew à§³1000 via Nagad.</span><span>ðŸŽ‰ J**al just withdrew $15 via Binance.</span><span>ðŸŽ‰ R**an just withdrew à§³500 via Bkash.</span><span>ðŸŽ‰ S**ma just withdrew à§³1000 via Nagad.</span></div></div>
                <section class="stats-grid">
                    <div class="stat-item"><svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z"></path></svg><span class="stat-label">Total Gems</span><span id="total-gems" class="stat-value">0</span></div>
                    <div class="stat-item"><svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg><span class="stat-label">Total Refs</span><span id="total-refs" class="stat-value">0</span></div>
                    <div class="stat-item"><svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="m22 8-6 4 6 4V8Z"></path><rect width="14" height="12" x="2" y="6" rx="2" ry="2"></rect></svg><span class="stat-label">Ads Watched</span><span id="total-ad-watch" class="stat-value">0</span></div>
                    <div class="stat-item"><svg class="stat-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><line x1="12" x2="12" y1="2" y2="22"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg><span class="stat-label">Today's Income</span><span id="today-income" class="stat-value">à§³ 0.00</span></div>
                </section>
            </div>

            <!-- Task Page -->
            <div id="page-task" class="page"><h2 class="page-title">Tasks</h2><div class="task-card"><div class="task-info"><h3>Watch & Earn</h3><p>Watch a short ad and earn rewards. (<span id="ads-left">10/10</span> remaining)</p></div><button id="watch-ad-btn" class="btn btn-primary">Watch</button></div><h3 class="sub-title">Bonus Tasks</h3><div class="task-card"><div class="task-info"><h3>Join Telegram</h3><p>Join our Telegram channel and get 25 TK instantly.</p></div><button id="join-telegram-btn" class="btn btn-secondary">Join</button></div></div>

            <!-- Referral Page -->
            <div id="page-ref" class="page"><h2 class="page-title">Referral</h2><div class="ref-card"><h3>Your Referral Link</h3><p>Share this link with your friends. You get 25 TK + 2 Gems for each successful referral!</p><div class="ref-link-wrapper"><span id="ref-link">Loading...</span><button class="btn-copy">Copy</button></div></div><div class="gem-claim-card"><h3>Claim Your Gems</h3><p>You have <strong id="unclaimed-gems">0</strong> unclaimed Gem rewards.</p><button id="claim-gems-btn" class="btn btn-primary">Claim Gems</button></div></div>

            <!-- Leaderboard Page -->
            <div id="page-leaderboard" class="page">
                <h2 class="page-title">Top Players</h2>
                <div id="leaderboard-list" class="leaderboard-container">
                    <p id="leaderboard-loading-msg" style="text-align: center; color: var(--text-light); margin-top: 40px;">Loading top players...</p>
                </div>
            </div>

            <!-- Profile/Wallet Page -->
            <div id="page-profile" class="page">
                <h2 class="page-title">Profile & Settings</h2>
                <section class="balance-card"><span class="balance-title">TOTAL BALANCE</span><h1 id="total-balance-profile" class="balance-amount">à§³ 0.00</h1></section>
                <div class="profile-cards-container">
                    <div class="profile-card" id="request-withdrawal-card"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><rect width="20" height="14" x="2" y="5" rx="2"></rect><line x1="2" x2="22" y1="10" y2="10"></line></svg><span>Request<br>Withdrawal</span></div>
                    <div class="profile-card" id="transaction-history-card"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M1 4v6h6"></path><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path></svg><span>Transaction<br>History</span></div>
                    <div class="profile-card" id="withdrawal-history-card"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M22 12h-4l-3 9L9 3l-3 9H2"></path></svg><span>Withdrawal<br>History</span></div>
                    <div class="profile-card" id="about-us-card"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="12" x2="12" y1="16" y2="12"></line><line x1="12" x2="12.01" y1="8" y2="8"></line></svg><span>About<br>Us</span></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Navigation -->
    <nav class="bottom-nav">
        <button class="nav-button active" data-page="home"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg><span>Home</span></button>
        <button class="nav-button" data-page="task"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg><span>Task</span></button>
        <button class="nav-button" data-page="leaderboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"/><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"/><path d="M4 22h16"/><path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"/><path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"/><path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"/></svg><span>Top</span></button>
        <button class="nav-button" data-page="ref"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg><span>Referral</span></button>
        <button class="nav-button" data-page="profile"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"></path><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"></path><path d="M18 12a2 2 0 0 0 0 4h4v-4h-4z"></path></svg><span>Wallet</span></button>
    </nav>

    <!-- Withdrawal Modal (Hidden by default) -->
    <div id="withdrawal-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Request Withdrawal</h2>
                <button id="close-modal-btn" class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Payment Method</label>
                    <div class="payment-methods">
                        <button class="payment-btn" data-method="Bkash">Bkash</button>
                        <button class="payment-btn" data-method="Nagad">Nagad</button>
                        <button class="payment-btn" data-method="Binance">Binance</button>
                    </div>
                </div>
                
                <div id="amount-selection-area" class="form-group" style="display: none;">
                    <label>Select Amount</label>
                    <div id="amount-options" class="amount-options"></div>
                    <div id="gem-requirement-msg" class="gem-req-msg"></div>
                </div>

                <div id="custom-amount-group" class="form-group" style="display: none;">
                    <input type="number" id="custom-amount" placeholder="Enter amount">
                    <div id="custom-gem-requirement-msg" class="gem-req-msg"></div>
                </div>

                <div id="account-details-area" class="form-group" style="display: none;">
                    <label for="account-number" id="account-label">Account Number</label>
                    <input type="text" id="account-number" placeholder="Enter your account number">
                </div>

                <button id="submit-withdrawal-btn" class="btn btn-primary btn-full" disabled>Submit Request</button>
            </div>
        </div>
    </div>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="main.js"></script>
</body>
</html>